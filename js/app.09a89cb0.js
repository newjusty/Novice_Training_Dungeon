(function(){"use strict";var t={4742:function(t,e,n){var i=n(3751),s=n(641);const a={id:"app"},r={class:"game-container"},o={class:"left-panel"};function l(t,e,n,i,l,c){const u=(0,s.g2)("MapGrid"),h=(0,s.g2)("GameControl"),d=(0,s.g2)("StatusPanel"),m=(0,s.g2)("GameLog"),g=(0,s.g2)("GameSummary"),p=(0,s.g2)("TurnInterstitial");return(0,s.uX)(),(0,s.CE)("div",a,[e[0]||(e[0]=(0,s.Lk)("h1",null,"‚öîÔ∏è Novice Dungeon RPG ‚öîÔ∏è",-1)),(0,s.Lk)("div",r,[(0,s.Lk)("div",o,[(0,s.bF)(u),(0,s.bF)(h)]),(0,s.bF)(d,{"current-unit-id":l.gameState.currentUnitId},null,8,["current-unit-id"])]),(0,s.bF)(m),(0,s.bF)(g,{onRestartGame:c.resetGame},null,8,["onRestartGame"]),(0,s.bF)(p)])}const c={class:"map-grid"};function u(t,e,n,i,a,r){const o=(0,s.g2)("Tile");return(0,s.uX)(),(0,s.CE)("div",c,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(a.mapData,(t,e)=>((0,s.uX)(),(0,s.CE)("div",{key:e,class:"map-row"},[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(t,(t,n)=>((0,s.uX)(),(0,s.Wv)(o,{key:n,"tile-type":t,x:n,y:e,unit:r.getUnitAt(n,e),onClick:t=>r.clickTile(n,e),"is-highlighted":r.isTileHighlighted(n,e)},null,8,["tile-type","x","y","unit","onClick","is-highlighted"]))),128))]))),128))])}n(8111),n(116);var h=n(33);function d(t,e,n,i,a,r){return(0,s.uX)(),(0,s.CE)("div",{class:(0,h.C4)([[r.tileClass,r.highlightClass],"tile"]),onClick:e[0]||(e[0]=e=>t.$emit("click"))},[n.unit&&n.unit.stats.hp>0?((0,s.uX)(),(0,s.CE)("div",{key:0,class:(0,h.C4)(r.unitClass)},(0,h.v_)(r.unitIcon),3)):(0,s.Q3)("",!0)],2)}var m={emits:["click"],props:{tileType:{type:Number,required:!0},x:{type:Number,required:!0},y:{type:Number,required:!0},unit:{type:Object,default:null},isHighlighted:{type:Object,default:null}},computed:{tileClass(){return{"tile-wall":0===this.tileType,"tile-floor":1===this.tileType}},unitClass(){return this.unit?{"unit-novice":"novice"===this.unit.type,"unit-monster":"monster"===this.unit.type}:{}},highlightClass(){return this.isHighlighted?{"highlight-move":"move"===this.isHighlighted.type,"highlight-target":"target"===this.isHighlighted.type}:""},unitIcon(){return!this.unit||this.unit.stats.hp<=0?"":"novice"===this.unit.type?"üßë":"üëæ"}}},g=n(6262);const p=(0,g.A)(m,[["render",d]]);var v=p;const f=[[0,0,0,0,0,0,0,0,0,0,0],[0,1,1,1,1,1,1,1,1,1,0],[0,1,1,1,1,1,1,1,1,1,0],[0,1,1,1,1,1,1,1,1,1,0],[0,1,1,1,1,1,1,1,1,1,0],[0,1,1,1,1,1,1,1,1,1,0],[0,1,1,1,1,1,1,1,1,1,0],[0,1,1,1,1,1,1,1,1,1,0],[0,1,1,1,1,1,1,1,1,1,0],[0,1,1,1,1,1,1,1,1,1,0],[0,0,0,0,0,0,0,0,0,0,0]];var k=n(953);const y={stats:{hp:0,maxHp:0,defense:0,attack:0},hasMoved:!1,hasUsedAction:!1,isBlocking:!1,skills:[],moveRange:2},S=(0,k.Kh)({novices:[],monsters:[],currentTurn:"novice",turnOrder:[],currentUnitId:null,currentAction:null,currentSkill:null,gameStatus:"playing",highlightedTiles:[],log:[],interstitial:{show:!1,message:"",phase:""}});n(4114),n(3579);const b={name:"",description:"",range:0,isHealing:!1,isBlock:!1,logic:null},U=[{...b,name:"Attack",description:"‡∏ó‡∏≥‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏™‡∏µ‡∏¢‡∏´‡∏≤‡∏¢‡∏ï‡∏≤‡∏°‡∏Ñ‡πà‡∏≤ Attack",range:1,logic:(t,e)=>({baseDamage:t.stats.attack,isAttack:!0})},{...b,name:"Block",description:"‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô ‡∏•‡∏î‡∏î‡∏≤‡πÄ‡∏°‡∏à‡∏ó‡∏µ‡πà‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö‡∏•‡∏á‡∏Ñ‡∏£‡∏∂‡πà‡∏á‡∏´‡∏ô‡∏∂‡πà‡∏á",range:0,isBlock:!0,logic:t=>(t.isBlocking=!0,{message:`${t.name} ‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡πÇ‡∏´‡∏°‡∏î‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô!`})},{...b,name:"Heal",description:"‡∏Æ‡∏¥‡∏• HP ‡∏ó‡∏µ‡πà‡πÄ‡∏™‡∏µ‡∏¢‡πÑ‡∏õ 5 ‡∏´‡∏ô‡πà‡∏ß‡∏¢",range:0,isHealing:!0,logic:t=>{const e=5,n=t.stats.maxHp,i=Math.min(t.stats.hp+e,n),s=i-t.stats.hp;return t.stats.hp=i,{message:`${t.name} ‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏£‡∏±‡∏Å‡∏©‡∏≤ ${s} ‡∏´‡∏ô‡πà‡∏ß‡∏¢`}}}],$=[{...b,name:"Bite",description:"‡∏ó‡∏≥‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏™‡∏µ‡∏¢‡∏´‡∏≤‡∏¢‡∏ï‡∏≤‡∏°‡∏Ñ‡πà‡∏≤ Attack",range:1,logic:(t,e)=>({baseDamage:t.stats.attack,isAttack:!0})},{...b,name:"SelfHeal",description:"‡∏Æ‡∏¥‡∏• HP ‡∏ó‡∏µ‡πà‡πÄ‡∏™‡∏µ‡∏¢‡πÑ‡∏õ 3 ‡∏´‡∏ô‡πà‡∏ß‡∏¢",range:0,isHealing:!0,logic:t=>{const e=3,n=t.stats.maxHp,i=Math.min(t.stats.hp+e,n),s=i-t.stats.hp;return t.stats.hp=i,{message:`${t.name} ‡∏£‡∏±‡∏Å‡∏©‡∏≤‡∏ï‡∏±‡∏ß‡πÄ‡∏≠‡∏á ${s} ‡∏´‡∏ô‡πà‡∏ß‡∏¢`}}}];function A(t,e=1,n=10,i=[]){let s,a=!0;while(a){const r=Math.floor(Math.random()*(n-e+1))+e;if(s={x:r,y:t},a=i.some(e=>e.x===r&&e.y===t),!a)break}return s}function C(){const t=[];for(let e=0;e<3;e++){const n=A(9,1,9,t);t.push(n);const i={...y,id:`N${e+1}`,name:`Novice ${e+1}`,type:"novice",position:n,stats:{hp:20,maxHp:20,defense:5,attack:5},hasMoved:!1,hasUsedAction:!1,isBlocking:!1,skills:U,moveRange:2};S.novices.push(i)}}function x(){const t=[];for(let e=0;e<2;e++){const n=5,i=A(1,1,9,t);t.push(i);const s={...y,id:`M${e+1}`,name:`Slime ${e+1}`,type:"monster",position:i,stats:{hp:10,maxHp:10,defense:3,attack:6,speed:n-e},skills:$};S.monsters.push(s)}}function T(){S.novices.splice(0,S.novices.length),S.monsters.splice(0,S.monsters.length),C(),x()}n(1148),n(2489),n(1701);function _(t,e){return Math.abs(t.x-e.x)+Math.abs(t.y-e.y)}function I(t){let e=null,n=1/0;const i=S.novices.filter(t=>t.stats.hp>0);if(0===i.length)return null;for(const s of i){const i=_(t.position,s.position);i<n?(n=i,e=s):i===n&&s.stats.hp<e.stats.hp&&(e=s)}return{unit:e,distance:n}}function E(t){if(console.log(`[AI LOGIC] Monster ${t.name} ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏ï‡∏±‡∏î‡∏™‡∏¥‡∏ô‡πÉ‡∏à...`),t.stats.hp<=0)return w(`[${t.name}] ‡∏ï‡∏≤‡∏¢‡πÅ‡∏•‡πâ‡∏ß ‡∏Ç‡πâ‡∏≤‡∏°‡πÄ‡∏ó‡∏¥‡∏£‡πå‡∏ô`),void H();const{unit:e,distance:n}=I(t);if(!e)return w(`[${t.name}] ‡πÑ‡∏°‡πà‡∏°‡∏µ‡πÄ‡∏õ‡πâ‡∏≤‡∏´‡∏°‡∏≤‡∏¢, ‡∏ú‡πà‡∏≤‡∏ô‡πÄ‡∏ó‡∏¥‡∏£‡πå‡∏ô`),void H();const i=t.skills.find(t=>"SelfHeal"===t.name);if(t.stats.hp<t.stats.maxHp/2&&n>1&&i)return w(`[${t.name}] ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏£‡∏±‡∏Å‡∏©‡∏≤‡∏ï‡∏±‡∏ß‡πÄ‡∏≠‡∏á...`),B(t,t,i),void setTimeout(()=>{H()},1e3);const s=t.skills.find(t=>"Bite"===t.name);if(n<=s.range&&s)return w(`[${t.name}] ‡πÇ‡∏à‡∏°‡∏ï‡∏µ ${e.name}!`),B(t,e,s),void setTimeout(()=>{H()},1e3);if(n>s.range&&!t.hasMoved){const i=M(t,e,n);if(i){const e=X(t,i.x,i.y);if(e)return void setTimeout(()=>{H()},1e3)}}w(`[${t.name}] ‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏Å‡∏£‡∏∞‡∏ó‡∏≥‡πÑ‡∏î‡πâ, ‡∏ú‡πà‡∏≤‡∏ô‡πÄ‡∏ó‡∏¥‡∏£‡πå‡∏ô.`),t.hasUsedAction=!0,setTimeout(()=>{H()},1e3)}function M(t,e,n){const i=t.position,s=t.moveRange,a=t.id;let r=[],o=0;for(let u=-s;u<=s;u++)for(let t=-s;t<=s;t++){const a=i.x+u,l=i.y+t;if(_(i,{x:a,y:l})<=s){const t=_({x:a,y:l},e.position),i=n-t;i>=o&&(o=i,r.push({x:a,y:l,reduction:i}))}}const l=r.filter(t=>t.reduction===o);if(0===l.length)return w(`[AI Debug] ${t.name} ‡∏´‡∏≤‡∏ä‡πà‡∏≠‡∏á‡πÄ‡∏î‡∏¥‡∏ô‡∏ó‡∏µ‡πà‡∏•‡∏î‡∏£‡∏∞‡∏¢‡∏∞‡∏ó‡∏≤‡∏á‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ`),null;const c=l[Math.floor(Math.random()*l.length)];return N(c.x,c.y,a)||c.x<1||c.x>9||c.y<1||c.y>9?(w(`[AI Debug] ${t.name} ‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á ${c.x}, ${c.y} ‡∏ñ‡∏π‡∏Å‡∏ö‡∏•‡πá‡∏≠‡∏Å`),null):c}function N(t,e,n=null){const i=[...S.novices,...S.monsters].filter(t=>t.stats.hp>0).filter(t=>t.id!==n);return i.some(n=>n.position.x===t&&n.position.y===e)}function L(){S.currentTurn="novice",S.currentUnitId=null,[...S.novices,...S.monsters].forEach(t=>{t.hasMoved=!1,t.hasUsedAction=!1,t.isBlocking=!1});const t=S.monsters.slice().sort((t,e)=>e.stats.speed-t.stats.speed);S.turnOrder=t.map(t=>t.id),w("--- ‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÄ‡∏ó‡∏¥‡∏£‡πå‡∏ô‡πÉ‡∏´‡∏°‡πà: ‡∏ù‡∏±‡πà‡∏á Novice! ---")}async function H(){S.novices.every(t=>t.stats.hp<=0||t.hasUsedAction);if("playing"===S.gameStatus){if("novice"===S.currentTurn){const t=S.novices.filter(t=>t.stats.hp>0&&!t.hasUsedAction);return 0===t.length?(S.interstitial.message="‚öîÔ∏è ‡∏ñ‡∏∂‡∏á‡πÄ‡∏ó‡∏¥‡∏£‡πå‡∏ô‡∏Ç‡∏≠‡∏á MONSTER! üëæ",S.interstitial.phase="monster",S.interstitial.show=!0,void setTimeout(()=>{S.currentTurn="monster",S.interstitial.show=!1,H()},1e3)):void 0}if("monster"===S.currentTurn){const t=S.turnOrder.filter(t=>{const e=O(t);return e&&e.stats.hp>0&&!e.hasUsedAction});if(t.length>0){S.currentUnitId=t[0];const e=O(S.currentUnitId);if(e)return w(`ü§ñ ‡πÄ‡∏ó‡∏¥‡∏£‡πå‡∏ô‡∏Ç‡∏≠‡∏á Monster: [${e.name}] ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏Ñ‡∏¥‡∏î...`),void setTimeout(()=>{const t=O(S.currentUnitId);t&&E(t)},500)}if(0===t.length)return S.interstitial.message="üí° ‡∏ñ‡∏∂‡∏á‡πÄ‡∏ó‡∏¥‡∏£‡πå‡∏ô‡∏Ç‡∏≠‡∏á NOVICE! üßë",S.interstitial.phase="novice",S.interstitial.show=!0,void setTimeout(()=>{S.interstitial.show=!1,L()},1e3)}}}function O(t,e=null,n=null){const i=[...S.novices,...S.monsters];return t?i.find(e=>e.id===t):null!==e&&null!==n?i.find(t=>t.position.x===e&&t.position.y===n):null}function w(t){S.log.unshift(`[${(new Date).toLocaleTimeString()}] ${t}`),S.log.length>20&&S.log.pop()}function X(t,e,n){if(e<1||e>9||n<1||n>9)return w(`[${t.name}] ‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÄ‡∏î‡∏¥‡∏ô‡πÄ‡∏Ç‡πâ‡∏≤‡∏Å‡∏≥‡πÅ‡∏û‡∏á‡πÑ‡∏î‡πâ`),!1;if(t.hasMoved)return w(`[${t.name}] ‡πÑ‡∏î‡πâ‡πÄ‡∏î‡∏¥‡∏ô‡πÑ‡∏õ‡πÅ‡∏•‡πâ‡∏ß‡πÉ‡∏ô‡πÄ‡∏ó‡∏¥‡∏£‡πå‡∏ô‡∏ô‡∏µ‡πâ`),!1;const i=Math.abs(t.position.x-e)+Math.abs(t.position.y-n);if(i>t.moveRange)return w(`[${t.name}] ‡πÄ‡∏Ñ‡∏•‡∏∑‡πà‡∏≠‡∏ô‡∏ó‡∏µ‡πà‡πÑ‡∏Å‡∏•‡πÄ‡∏Å‡∏¥‡∏ô‡∏£‡∏∞‡∏¢‡∏∞ ${t.moveRange} ‡∏ä‡πà‡∏≠‡∏á`),!1;const s=[...S.novices,...S.monsters].find(t=>t.position.x===e&&t.position.y===n);return s&&s.stats.hp>0?(w(`[${t.name}] ‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÄ‡∏î‡∏¥‡∏ô‡∏ó‡∏±‡∏ö ${s.name} ‡πÑ‡∏î‡πâ`),!1):(t.position={x:e,y:n},t.hasMoved=!0,w(`[${t.name}] ‡πÄ‡∏Ñ‡∏•‡∏∑‡πà‡∏≠‡∏ô‡∏ó‡∏µ‡πà‡πÑ‡∏õ‡∏ó‡∏µ‡πà (${e}, ${n})`),S.highlightedTiles=[],"monster"===t.type&&(t.hasUsedAction=!0),!0)}function R(t,e,n){if(e.stats.hp<=0)return 0;if("number"!==typeof n||isNaN(n))return w(`[ERROR] Damage Calculation Failed: Base Damage (${n}) is not a valid number.`),0;let i=n;return i-=e.stats.defense||0,!0===e.isBlocking&&(i=Math.floor(i/2),w(`[${e.name}] ‡πÉ‡∏ä‡πâ Block ‡∏•‡∏î‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏™‡∏µ‡∏¢‡∏´‡∏≤‡∏¢`)),i=Math.max(0,i),e.stats.hp-=i,e.stats.hp=Math.max(0,e.stats.hp),console.log(`[DEBUG: Calc] Damage: ${i}, Target HP after: ${e.stats.hp}`),e.stats.hp<=0&&(w(`üíÄ [${e.name}] (${e.type}) ‡∏ñ‡∏π‡∏Å‡∏Å‡∏≥‡∏à‡∏±‡∏î‡πÅ‡∏•‡πâ‡∏ß!`),G(e)),i}function D(t){t.hasUsedAction||(t.hasUsedAction=!0,w(`[${t.name}] ‡∏ú‡πà‡∏≤‡∏ô‡πÄ‡∏ó‡∏¥‡∏£‡πå‡∏ô (Action)`)),"novice"===t.type&&H()}function G(t){const e=S.turnOrder.indexOf(t.id);e>-1&&(S.turnOrder.splice(e,1),w(`[System] ‡∏•‡∏ö [${t.name}] ‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡∏•‡∏≥‡∏î‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡πÄ‡∏•‡πà‡∏ô`)),S.currentUnitId===t.id&&(S.currentUnitId=null),P()}function B(t,e,n){console.log(`[DEBUG: UseSkill] Source: ${t.name}, Target HP before: ${e.stats.hp}`);const i=n.logic(t,e);if(i)return i.isAttack?R(t,e,i.baseDamage):(n.isHealing||n.isBlock)&&w(i.message),t.hasUsedAction=!0,S.currentUnitId=null,w(`[${t.name}] ‡πÉ‡∏ä‡πâ Skill: ${n.name}`),S.highlightedTiles=[],"monster"!==t.type&&"novice"!==t.type||H(),i;w(`[ERROR] Skill logic failed to return an effect object for ${n.name}.`)}function P(){const t=S.novices.filter(t=>t.stats.hp>0),e=S.monsters.filter(t=>t.stats.hp>0);return 0===t.length?(S.gameStatus="monster_win",w("üíî Monster Win! Novices ‡∏ñ‡∏π‡∏Å‡∏Å‡∏≥‡∏à‡∏±‡∏î‡∏´‡∏°‡∏î‡πÅ‡∏•‡πâ‡∏ß"),!0):0===e.length&&(S.gameStatus="novice_win",w("üèÜ Novice Win! Monsters ‡∏ñ‡∏π‡∏Å‡∏Å‡∏≥‡∏à‡∏±‡∏î‡∏´‡∏°‡∏î‡πÅ‡∏•‡πâ‡∏ß"),!0)}function F(t,e){return Math.abs(t.x-e.x)+Math.abs(t.y-e.y)}function W(t,e){if(!t)return[];const n=t.position,i=("move"===e?t.moveRange:t.skills.find(t=>"Attack"===t.name)?.range)||0,s=[];for(let a=1;a<=9;a++)for(let r=1;r<=9;r++){const o=F(n,{x:a,y:r});if(o>0&&o<=i){const n=O(null,a,r);if("move"===e)N(a,r)||s.push({x:a,y:r,type:"move"});else if("target"===e){const e=t.skills.find(t=>"Attack"===t.name);n&&n.stats.hp>0&&n.type!==t.type&&e&&o<=e.range&&s.push({x:a,y:r,type:"target"})}}}return s}var j={components:{Tile:v},data(){return T(),L(),{mapData:f,gameState:S}},computed:{allUnits(){return[...S.novices,...S.monsters]}},methods:{isTileHighlighted(t,e){return S.highlightedTiles.find(n=>n.x===t&&n.y===e)||null},getUnitAt(t,e){return this.allUnits.find(n=>n&&n.position&&n.position.x===t&&n.position.y===e&&n.stats.hp>0)},clickTile(t,e){const n=this.getUnitAt(t,e),i="novice"===this.gameState.currentTurn,s=this.gameState.currentUnitId,a=this.gameState.currentAction;if(i&&n&&"novice"===n.type){if(!n.hasUsedAction)return this.selectNovice(n.id),this.gameState.currentAction=null,void(this.gameState.highlightedTiles=[]);if(n.id===s)return this.gameState.currentUnitId=null,this.gameState.currentAction=null,void w("‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å‡∏Å‡∏≤‡∏£‡πÄ‡∏•‡∏∑‡∏≠‡∏Å Novice")}if(s&&i){const i=O(s),r=this.gameState.currentSkill;if("walk"===a)return void X(i,t,e);if("targeting"===a&&r){if(!n||n.stats.hp<=0)return void w(`‡πÑ‡∏°‡πà‡∏û‡∏ö‡πÄ‡∏õ‡πâ‡∏≤‡∏´‡∏°‡∏≤‡∏¢‡∏ó‡∏µ‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á‡∏ó‡∏µ‡πà (${t}, ${e})`);const s=Math.abs(i.position.x-t)+Math.abs(i.position.y-e);if(s<=r.range)return B(i,n,r),this.gameState.currentAction=null,this.gameState.currentSkill=null,void(this.gameState.currentUnitId=null);w(`‡πÄ‡∏õ‡πâ‡∏≤‡∏´‡∏°‡∏≤‡∏¢ ${n.name} ‡∏≠‡∏¢‡∏π‡πà‡∏ô‡∏≠‡∏Å‡∏£‡∏∞‡∏¢‡∏∞ ${r.range} ‡∏ä‡πà‡∏≠‡∏á`)}}!n&&s&&(this.gameState.currentUnitId=null,this.gameState.currentAction=null,this.gameState.currentSkill=null,this.gameState.highlightedTiles=[],w("‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å‡∏Å‡∏≤‡∏£‡πÄ‡∏•‡∏∑‡∏≠‡∏Å Novice"))},selectNovice(t){const e=O(t);"novice"!==e.type||e.hasUsedAction||(this.gameState.currentUnitId=t,w(`Novice: ${e.name} ‡∏ñ‡∏π‡∏Å‡πÄ‡∏•‡∏∑‡∏≠‡∏Å`))}}};const K=(0,g.A)(j,[["render",u],["__scopeId","data-v-18c1489a"]]);var Q=K;const q={class:"status-panel"},V={key:0,class:"status-effect"};function z(t,e,n,i,a,r){return(0,s.uX)(),(0,s.CE)("div",q,[e[0]||(e[0]=(0,s.Lk)("h3",null,"‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏¢‡∏π‡∏ô‡∏¥‡∏ï üõ°Ô∏è",-1)),e[1]||(e[1]=(0,s.Lk)("h4",null,"Novices (‡∏ú‡∏π‡πâ‡πÄ‡∏•‡πà‡∏ô)",-1)),((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(r.novices,t=>((0,s.uX)(),(0,s.CE)("div",{key:t.id,class:(0,h.C4)(["unit-status",{"current-turn":n.currentUnitId===t.id}])},[(0,s.Lk)("p",null,[(0,s.Lk)("strong",null,(0,h.v_)(t.name),1),(0,s.eW)(" ("+(0,h.v_)(t.position.x)+", "+(0,h.v_)(t.position.y)+")",1)]),(0,s.Lk)("p",null,"HP: "+(0,h.v_)(t.stats.hp)+" / "+(0,h.v_)(t.stats.maxHp)+" | ATK: "+(0,h.v_)(t.stats.attack)+" | DEF: "+(0,h.v_)(t.stats.defense)+" | SPD: "+(0,h.v_)(t.stats.speed),1),t.isBlocking?((0,s.uX)(),(0,s.CE)("p",V,"**üõ°Ô∏è Blocking**")):(0,s.Q3)("",!0)],2))),128)),e[2]||(e[2]=(0,s.Lk)("h4",null,"Monsters (‡∏®‡∏±‡∏ï‡∏£‡∏π)",-1)),((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(r.monsters,t=>((0,s.uX)(),(0,s.CE)("div",{key:t.id,class:"unit-status monster-unit"},[(0,s.Lk)("p",null,[(0,s.Lk)("strong",null,(0,h.v_)(t.name),1),(0,s.eW)(" ("+(0,h.v_)(t.position.x)+", "+(0,h.v_)(t.position.y)+")",1)]),(0,s.Lk)("p",null,"HP: "+(0,h.v_)(t.stats.hp)+" / "+(0,h.v_)(t.stats.maxHp)+" | ATK: "+(0,h.v_)(t.stats.attack)+" | DEF: "+(0,h.v_)(t.stats.defense)+" | SPD: "+(0,h.v_)(t.stats.speed),1)]))),128))])}var J={props:{currentUnitId:{type:String,default:null}},computed:{novices(){return S.novices},monsters(){return S.monsters}}};const Y=(0,g.A)(J,[["render",z],["__scopeId","data-v-c49a41a6"]]);var Z=Y;const tt={class:"game-log"};function et(t,e,n,i,a,r){return(0,s.uX)(),(0,s.CE)("div",tt,[e[0]||(e[0]=(0,s.Lk)("h4",null,"‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÄ‡∏´‡∏ï‡∏∏‡∏Å‡∏≤‡∏£‡∏ì‡πå",-1)),((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(r.log,(t,e)=>((0,s.uX)(),(0,s.CE)("div",{key:e,class:"log-entry"},(0,h.v_)(t),1))),128))])}var nt={computed:{log(){return S.log}}};const it=(0,g.A)(nt,[["render",et],["__scopeId","data-v-7d4f8f1f"]]);var st=it;const at={class:"game-control"},rt=["disabled"],ot={key:0,class:"novice-actions"},lt=["disabled"],ct=["disabled"],ut=["disabled"],ht={key:0,class:"skill-list"},dt=["onClick"];function mt(t,e,n,i,a,r){return(0,s.uX)(),(0,s.CE)("div",at,[(0,s.Lk)("button",{onClick:e[0]||(e[0]=(...t)=>r.endNovicePhase&&r.endNovicePhase(...t)),disabled:"novice"!==a.gameState.currentTurn,class:"btn-main"}," ‡∏ú‡πà‡∏≤‡∏ô‡πÄ‡∏ó‡∏¥‡∏£‡πå‡∏ô Novice ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î ("+(0,h.v_)(r.NovicesRemaining)+") ",9,rt),r.currentUnit&&"novice"===r.currentUnit.type?((0,s.uX)(),(0,s.CE)("div",ot,[(0,s.Lk)("h4",null,"‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á: "+(0,h.v_)(r.currentUnit.name),1),(0,s.Lk)("button",{onClick:e[1]||(e[1]=t=>r.setAction("walk")),disabled:r.currentUnit.hasMoved,class:"btn-action"}," üö∂ Walk ("+(0,h.v_)(r.currentUnit.moveRange)+" ‡∏ä‡πà‡∏≠‡∏á) ",9,lt),(0,s.Lk)("button",{onClick:e[2]||(e[2]=t=>r.setAction("skill")),disabled:r.currentUnit.hasUsedAction,class:"btn-action"}," ‚ú® Skill ",8,ct),(0,s.Lk)("button",{onClick:e[3]||(e[3]=(...t)=>r.passUnitTurn&&r.passUnitTurn(...t)),disabled:r.currentUnit.hasMoved,class:"btn-action btn-pass"}," ‚è© Pass Turn ",8,ut),"skill"===r.actionState?((0,s.uX)(),(0,s.CE)("div",ht,[e[4]||(e[4]=(0,s.Lk)("h5",null,"‡πÄ‡∏•‡∏∑‡∏≠‡∏Å Skill:",-1)),((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(r.currentUnit.skills,t=>((0,s.uX)(),(0,s.CE)("button",{key:t.name,onClick:e=>r.selectSkill(t),class:"btn-skill"},(0,h.v_)(t.name)+" (R: "+(0,h.v_)(t.range)+") ",9,dt))),128))])):(0,s.Q3)("",!0)])):(0,s.Q3)("",!0)])}n(7588);var gt={data(){return{gameState:S}},computed:{currentUnit(){return O(S.currentUnitId)},actionState:{get(){return S.currentAction},set(t){S.currentAction=t}},NovicesRemaining(){return S.novices.filter(t=>!t.hasUsedAction).length}},methods:{endNovicePhase(){S.novices.forEach(t=>{t.hasUsedAction||(t.hasUsedAction=!0,w(`[${t.name}] ‡∏ñ‡∏π‡∏Å‡∏ö‡∏±‡∏á‡∏Ñ‡∏±‡∏ö‡∏ú‡πà‡∏≤‡∏ô‡πÄ‡∏ó‡∏¥‡∏£‡πå‡∏ô`))}),S.currentUnitId=null,this.actionState=null,H()},passUnitTurn(){this.currentUnit&&(D(this.currentUnit),this.actionState=null,S.currentUnitId=null,H())},setAction(t){if(this.actionState=t,this.selectedSkill=null,S.highlightedTiles=[],"walk"===t){const t=this.currentUnit;t&&(S.highlightedTiles=W(t,"move"))}},executeSkill(t,e=this.selectedSkill){this.currentUnit&&e&&(B(this.currentUnit,t,e),this.actionState=null,S.currentUnitId=null)},selectSkill(t){S.currentSkill=t,this.actionState="targeting",w(`‡πÄ‡∏•‡∏∑‡∏≠‡∏Å Skill: ${t.name} (R: ${t.range})`),t.range>0&&(this.actionState="targeting",S.highlightedTiles=W(this.currentUnit,"target"))}}};const pt=(0,g.A)(gt,[["render",mt],["__scopeId","data-v-48cfa3e3"]]);var vt=pt;const ft={key:0,class:"game-overlay"},kt={key:0},yt={key:1};function St(t,e,n,i,a,r){return r.isGameOver?((0,s.uX)(),(0,s.CE)("div",ft,[(0,s.Lk)("div",{class:(0,h.C4)(["summary-box",{win:r.isNoviceWin,lose:r.isMonsterWin}])},[e[1]||(e[1]=(0,s.Lk)("h2",null,"‡πÄ‡∏Å‡∏°‡∏à‡∏ö‡πÅ‡∏•‡πâ‡∏ß!",-1)),r.isNoviceWin?((0,s.uX)(),(0,s.CE)("h1",kt,"üèÜ Novice Win! ‡∏¢‡∏¥‡∏ô‡∏î‡∏µ‡∏î‡πâ‡∏ß‡∏¢!")):r.isMonsterWin?((0,s.uX)(),(0,s.CE)("h1",yt,"üíî Novice Lose! Dungeon Overlord ‡∏ä‡∏ô‡∏∞!")):(0,s.Q3)("",!0),(0,s.Lk)("button",{onClick:e[0]||(e[0]=e=>t.$emit("restart-game")),class:"btn-restart"},"‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÄ‡∏Å‡∏°‡πÉ‡∏´‡∏°‡πà")],2)])):(0,s.Q3)("",!0)}var bt={emits:["restart-game"],computed:{isGameOver(){return"playing"!==S.gameStatus},isNoviceWin(){return"novice_win"===S.gameStatus},isMonsterWin(){return"monster_win"===S.gameStatus}}};const Ut=(0,g.A)(bt,[["render",St],["__scopeId","data-v-36696ac6"]]);var $t=Ut;const At={key:0,class:"interstitial-overlay"};function Ct(t,e,n,i,a,r){return r.gameState.interstitial.show?((0,s.uX)(),(0,s.CE)("div",At,[(0,s.Lk)("div",{class:(0,h.C4)(["interstitial-box",r.gameState.interstitial.phase])},[(0,s.Lk)("h1",null,(0,h.v_)(r.gameState.interstitial.message),1)],2)])):(0,s.Q3)("",!0)}var xt={computed:{gameState(){return S}}};const Tt=(0,g.A)(xt,[["render",Ct],["__scopeId","data-v-5562cf6a"]]);var _t=Tt,It={name:"App",components:{MapGrid:Q,StatusPanel:Z,GameLog:st,GameControl:vt,GameSummary:$t,TurnInterstitial:_t},methods:{resetGame(){S.gameStatus="playing",T(),L(),S.log.length=0,w("‡πÄ‡∏Å‡∏°‡∏ñ‡∏π‡∏Å‡∏£‡∏µ‡πÄ‡∏ã‡πá‡∏ï: ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏Å‡∏≤‡∏£‡∏ú‡∏à‡∏ç‡∏†‡∏±‡∏¢‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡πÉ‡∏´‡∏°‡πà!")}},data(){return{gameState:S}}};const Et=(0,g.A)(It,[["render",l]]);var Mt=Et;(0,i.Ef)(Mt).mount("#app")}},e={};function n(i){var s=e[i];if(void 0!==s)return s.exports;var a=e[i]={exports:{}};return t[i].call(a.exports,a,a.exports,n),a.exports}n.m=t,function(){var t=[];n.O=function(e,i,s,a){if(!i){var r=1/0;for(u=0;u<t.length;u++){i=t[u][0],s=t[u][1],a=t[u][2];for(var o=!0,l=0;l<i.length;l++)(!1&a||r>=a)&&Object.keys(n.O).every(function(t){return n.O[t](i[l])})?i.splice(l--,1):(o=!1,a<r&&(r=a));if(o){t.splice(u--,1);var c=s();void 0!==c&&(e=c)}}return e}a=a||0;for(var u=t.length;u>0&&t[u-1][2]>a;u--)t[u]=t[u-1];t[u]=[i,s,a]}}(),function(){n.d=function(t,e){for(var i in e)n.o(e,i)&&!n.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={524:0};n.O.j=function(e){return 0===t[e]};var e=function(e,i){var s,a,r=i[0],o=i[1],l=i[2],c=0;if(r.some(function(e){return 0!==t[e]})){for(s in o)n.o(o,s)&&(n.m[s]=o[s]);if(l)var u=l(n)}for(e&&e(i);c<r.length;c++)a=r[c],n.o(t,a)&&t[a]&&t[a][0](),t[a]=0;return n.O(u)},i=self["webpackChunktraining_novice"]=self["webpackChunktraining_novice"]||[];i.forEach(e.bind(null,0)),i.push=e.bind(null,i.push.bind(i))}();var i=n.O(void 0,[504],function(){return n(4742)});i=n.O(i)})();
//# sourceMappingURL=app.09a89cb0.js.map