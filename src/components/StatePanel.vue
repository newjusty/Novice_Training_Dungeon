<template>
  <div class="status-panel">
    <h3>‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏¢‡∏π‡∏ô‡∏¥‡∏ï üõ°Ô∏è</h3>
    
    <h4>Novices (‡∏ú‡∏π‡πâ‡πÄ‡∏•‡πà‡∏ô)</h4>
    <div v-for="unit in novices" :key="unit.id" :class="['unit-status', { 'current-turn': currentUnitId === unit.id }]">
      <p><strong>{{ unit.name }}</strong> ({{ unit.position.x }}, {{ unit.position.y }})</p>
      <p>HP: {{ unit.stats.hp }} / {{ unit.stats.maxHp }} | ATK: {{ unit.stats.attack }} | DEF: {{ unit.stats.defense }} | SPD: {{ unit.stats.speed }}</p>
      <p v-if="unit.isBlocking" class="status-effect">**üõ°Ô∏è Blocking**</p>
    </div>

    <h4>Monsters (‡∏®‡∏±‡∏ï‡∏£‡∏π)</h4>
    <div v-for="unit in monsters" :key="unit.id" class="unit-status monster-unit">
      <p><strong>{{ unit.name }}</strong> ({{ unit.position.x }}, {{ unit.position.y }})</p>
      <p>HP: {{ unit.stats.hp }} / {{ unit.stats.maxHp }} | ATK: {{ unit.stats.attack }} | DEF: {{ unit.stats.defense }} | SPD: {{ unit.stats.speed }}</p>
    </div>
  </div>
</template>

<script>
// ‡∏ô‡∏≥‡πÄ‡∏Ç‡πâ‡∏≤ State
import { gameState } from './Gamestate.js'; 

export default {
    // props ‡∏ô‡∏µ‡πâ‡∏à‡∏∞‡πÉ‡∏ä‡πâ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ö‡∏≠‡∏Å‡∏ß‡πà‡∏≤‡πÉ‡∏Ñ‡∏£‡∏Ñ‡∏∑‡∏≠‡∏¢‡∏π‡∏ô‡∏¥‡∏ï‡∏ó‡∏µ‡πà‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÄ‡∏•‡πà‡∏ô‡πÄ‡∏ó‡∏¥‡∏£‡πå‡∏ô
    props: {
        currentUnitId: { type: String, default: null } 
    },
    computed: {
        novices() {
            return gameState.novices;
        },
        monsters() {
            return gameState.monsters;
        }
    }
}
</script>

<style scoped>
.status-panel {
    width: 300px; /* ‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Å‡∏ß‡πâ‡∏≤‡∏á‡∏Ç‡∏≠‡∏á Panel */
    padding: 15px;
    background-color: #333;
    color: #fff;
    border-radius: 5px;
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
    /* ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡πÉ‡∏´‡πâ Scroll ‡πÑ‡∏î‡πâ‡∏ñ‡πâ‡∏≤‡∏°‡∏µ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏¢‡∏≠‡∏∞ */
    overflow-y: auto; 
}

.unit-status {
    border-bottom: 1px solid #555;
    padding: 5px 0;
    margin-bottom: 10px;
    font-size: 0.9em;
}

.monster-unit {
    color: #ff9999;
}

.current-turn {
    background-color: #6a0dad; /* ‡∏™‡∏µ‡∏°‡πà‡∏ß‡∏á‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏¢‡∏π‡∏ô‡∏¥‡∏ï‡∏ó‡∏µ‡πà‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÄ‡∏•‡πà‡∏ô‡πÄ‡∏ó‡∏¥‡∏£‡πå‡∏ô */
    padding: 5px;
    border-radius: 3px;
    border: 2px solid yellow;
}
.status-effect {
    color: #4CAF50; /* ‡∏™‡∏µ‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ß‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô */
    font-weight: bold;
}
</style>